
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Calculating Planet Volumes with Numpy</title>
    <meta name="description" content="In this post I'm going to explore using Python and Numpy to quickly calculate all the planet volumes in the solar system!" />
    <link rel="canonical" href="/2023/10/21/Calculating-Planet-Volumes-Python-And-Numpy.html">
    <link rel="alternate" type="application/rss+xml" title="Helen Abell" href="/feed.xml">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Nunito:400,700" rel="stylesheet">
    <!-- Ionicons -->
    <link href="https://unpkg.com/ionicons@4.2.2/dist/css/ionicons.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/css/main.css">
</head>

<body>
    <header class="header">
	<div class="container">
		<div class="row">
			<div class="col col-12">
				<div class="header-box">
					<div class="col col-3 wd-mob">
						
						<a href="/" class="header-avatar">
							<img src="/img/profile_picture_me.jpg" class="header-avatar-img" alt="Helen Abell">
						</a>
						
					</div>
					<hr>
					<div class="col col-9 wd-mob">
						
						<h1 class="header-title">Helen Abell</h1>
						
						
						<h1 class="header-subtitle">Data Science <span style="color:#f58506"> Portfolio </span></h1>
						
						
						<p class="header-tagline">Hi, I'm Helen. I'm a Software Engineer and Data Science enthusiast.  This portfolio focuses on interesting projects I've recently undertaken, with a strong emphasis on business impact and data science tools and techniques. Please visit my Github & LinkedIn pages (or download my CV) by using the links below.</p>
						
						<div class="menu-links">
							<ul class="list-reset">
								<li class="item"><a class="item-link"><i class="ion ion-ios-pin"></i> Birmingham, UK</a></li>
								<li class="item"><a class="item-link" href="https://github.com/h3l3nabell/"><i class="ion ion-logo-github"></i> Github</a></li>
								<li class="item"><a class="item-link" href="https://www.linkedin.com/in/helen-abell/"><i class="ion ion-logo-linkedin"></i> Linkedln</a></li>
								<li class="item"><a class="item-link" href="/docs/CV_Helen Abell 2023-09-29-V1.pdf"><i class="ion ion-ios-document"></i> CV</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</header> <!-- /.header -->
    <div class="container">
    <div class="row">
        <div class="col col-12">
            <div class="post-image-box">
                <div class="post-image" style="background-image: url(/img//posts/planets.jpg)"></div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <article class="col col-12 col-t-12 post">
            <div class="post-content">
                <div class="post-head">
                    
                    <div class="post-tag">
                        
                        <a href="/tags#Python" class="tag">Python</a>
                        
                        <a href="/tags#Numpy" class="tag">Numpy</a>
                        
                        <a href="/tags#Planets" class="tag">Planets</a>
                        
                    </div>
                    
                    <h1 class="post-title">Calculating Planet Volumes with Numpy</h1>
                    <div class="post-info">
                        <div class="post-time">
                            <span class="page__meta"><i class="ion ion-md-time"></i>




  4 minute read
</span>
                        </div>
                    </div>
                </div>
                <div class="post-body">
                    <h2 id="introduction">introduction</h2>
<p>In this post I’m going to explore using Python and Numpy to quickly calculate all the planet volumes in the solar system!  If that works out, I’ll try to see how fast it can calculate the volumes of a million fictional planets!</p>

<p>I’ve created this project to start to explore the use of the Numpy package within Python.  Numpy is a Python library for working with numerical and mathematical data. Here are some key things to know about Numpy:</p>

<ul>
  <li>Numpy provides an N-dimensional array object called ndarray that allows you to perform vectorized operations on data very efficiently. Arrays in Numpy are fast and memory efficient compared to native Python lists.</li>
  <li>Numpy comes with a large library of high-level mathematical functions that operate on ndarray objects, such as methods for linear algebra, Fourier transforms, statistics, and more. This makes it easy to do scientific computing in Python.</li>
  <li>Numpy arrays have a dtype (data type) that describes the kind of elements it contains, such as floating point numbers, integers, booleans, etc. The dtype allows Numpy to allocate minimal memory and enables fast computations on the array.</li>
  <li>Numpy provides powerful indexing and slicing capabilities for accessing and modifying array data. You can slice Numpy arrays much like Python lists, but assignments also work in-place for fast operations.</li>
  <li>Numpy integrates well with other scientific Python libraries like SciPy, Matplotlib, Pandas, and Scikit-Learn, making it a core foundation for many data science and scientific applications in Python.  We will probably look at some of these in future posts.</li>
</ul>

<p>So in summary, Numpy is the core library for numerical data and high-performance multi-dimensional array computing in Python. It provides key data structures, array operations, and integrates with other libraries. Numpy is a fundamental package for scientific computing, data analysis, and machine learning in Python.  I’m only really scratching the surface of what Numpy can do here, but you have to start somewhere.</p>

<hr />
<h3 id="the-planets-of-the-solar-system">the planets of the solar system</h3>
<p>This is a pretty simple mathematical problem to calculate the volume of a planet if you know the radius, but the reason we’ve chosen it, is that we want to explore how numpy can do a lot of calculations all at once using it’s special data structures, and how quickly it can do them. So we start with a quick Google to grab the radii of all our planets.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Planet</th>
      <th style="text-align: right">Radius (km)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Mercury</td>
      <td style="text-align: right">2439.7</td>
    </tr>
    <tr>
      <td style="text-align: left">Venus</td>
      <td style="text-align: right">6051.8</td>
    </tr>
    <tr>
      <td style="text-align: left">Earth</td>
      <td style="text-align: right">6371</td>
    </tr>
    <tr>
      <td style="text-align: left">Mars</td>
      <td style="text-align: right">3389.7</td>
    </tr>
    <tr>
      <td style="text-align: left">Jupiter</td>
      <td style="text-align: right">69911</td>
    </tr>
    <tr>
      <td style="text-align: left">Saturn</td>
      <td style="text-align: right">58232</td>
    </tr>
    <tr>
      <td style="text-align: left">Uranus</td>
      <td style="text-align: right">25362</td>
    </tr>
    <tr>
      <td style="text-align: left">Neptune</td>
      <td style="text-align: right">24622</td>
    </tr>
  </tbody>
</table>

<hr />
<h2 id="design">design</h2>
<p>We want to use a Numpy array to hold all the radii, so that we can simultaneously calculate the volumes of all the planets at once.  We’ll use the time package as well, to see how long the calculation takes, since parts of this package are written in c under the hood, so it should be fast.</p>

<p>So, we have our calculation formula in python for the volume of a planet.  We’re importing the numpy package, and using it’s handy value for pi (π).</p>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">import</span> <span class="n">numpy</span> <span class="n">as</span> <span class="n">np</span>

<span class="c1"># volume calculation</span>
<span class="n">r</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">volume</span> <span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">pi</span> <span class="o">*</span> <span class="n">r</span><span class="o">**</span><span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">volume</span><span class="p">)</span>

</code></pre></div></div>

<p>We could create a loop and work through an array of radii, to calculate each planet volume like that, but there’s a more interesting way to do this with Numpy, and we can calculate them all at once!  Let’s see how that works!  We basically create a numpy array of all the radii, and then use that array in our formula!</p>

<p>We’ll put a time capture at the start and end of the calculation so we can try and see how fast it is.</p>

<hr />
<h2 id="test">test</h2>
<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">import</span> <span class="n">numpy</span> <span class="n">as</span> <span class="n">np</span>
<span class="n">import</span> <span class="n">time</span>

<span class="c1"># array of radii of each planet</span>
<span class="n">radii</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">array</span><span class="p">([</span><span class="mf">2439.7</span><span class="p">,</span> <span class="mf">6051.8</span><span class="p">,</span> <span class="mi">6371</span><span class="p">,</span> <span class="mf">3389.7</span><span class="p">,</span> <span class="mi">69911</span><span class="p">,</span> <span class="mi">58232</span><span class="p">,</span> <span class="mi">25362</span><span class="p">,</span> <span class="mi">24622</span><span class="p">])</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">volumes</span> <span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">pi</span> <span class="o">*</span> <span class="n">radii</span><span class="o">**</span><span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">volumes</span><span class="p">)</span>
<span class="k">end</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"calculated in {end - start} seconds"</span><span class="p">)</span>

</code></pre></div></div>

<p>Let’s see what happens!</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mf">6.08272087e+10</span> <span class="mf">9.28415346e+11</span> <span class="mf">1.08320692e+12</span> <span class="mf">1.63144486e+11</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mf">1.43128181e+15</span> <span class="mf">8.27129915e+14</span> <span class="mf">6.83343557e+13</span> <span class="mf">6.25257040e+13</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">calculated</span> <span class="k">in</span> <span class="mf">0.0</span> <span class="n">seconds</span>
</code></pre></div></div>
<p>Wow! here are all our planets with their volumes, calculated in a tiny fraction of a second, so small we couldn’t even measure it.  That’s really quite cool.</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Planet</th>
      <th style="text-align: right">Radius (km)</th>
      <th style="text-align: right">Volume (km<sup>2</sup>)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left">Mercury</td>
      <td style="text-align: right">2439.7</td>
      <td style="text-align: right">6.08272087e+10</td>
    </tr>
    <tr>
      <td style="text-align: left">Venus</td>
      <td style="text-align: right">6051.8</td>
      <td style="text-align: right">9.28415346e+11</td>
    </tr>
    <tr>
      <td style="text-align: left">Earth</td>
      <td style="text-align: right">6371</td>
      <td style="text-align: right">1.08320692e+12</td>
    </tr>
    <tr>
      <td style="text-align: left">Mars</td>
      <td style="text-align: right">3389.7</td>
      <td style="text-align: right">1.63144486e+11</td>
    </tr>
    <tr>
      <td style="text-align: left">Jupiter</td>
      <td style="text-align: right">69911</td>
      <td style="text-align: right">1.43128181e+15</td>
    </tr>
    <tr>
      <td style="text-align: left">Saturn</td>
      <td style="text-align: right">58232</td>
      <td style="text-align: right">8.27129915e+14</td>
    </tr>
    <tr>
      <td style="text-align: left">Uranus</td>
      <td style="text-align: right">25362</td>
      <td style="text-align: right">6.83343557e+13</td>
    </tr>
    <tr>
      <td style="text-align: left">Neptune</td>
      <td style="text-align: right">24622</td>
      <td style="text-align: right">6.25257040e+13</td>
    </tr>
  </tbody>
</table>

<p>Let’s give it something a bit more challenging.</p>

<p>Let’s now try calling the function with a ficticious solar system full of a million randomly sized planets!
We’ll use the Numpy random function to create a random array of different radii for our fictional planets.</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># 1,000,000 fictional planets!</span>
<span class="n">radii2</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">)</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="n">volumes</span> <span class="o">=</span> <span class="mi">4</span><span class="o">/</span><span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">pi</span> <span class="o">*</span> <span class="n">radii2</span><span class="o">**</span><span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">volumes</span><span class="p">)</span>
<span class="k">end</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"calculated in {end - start} seconds"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">"length of volumes array is {len(volumes):,d}"</span><span class="p">)</span>

</code></pre></div></div>
<p>So let’s see what happens when we run it!</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mf">2.48384410e+07</span> <span class="mf">1.39847989e+08</span> <span class="mf">3.95453689e+09</span> <span class="o">...</span> <span class="mf">2.22609486e+09</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mf">7.42069736e+06</span> <span class="mf">6.04399282e+06</span><span class="p">]</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">calculated</span> <span class="k">in</span> <span class="mf">0.004191875457763672</span> <span class="n">seconds</span>

<span class="n">calculated</span> <span class="k">in</span> <span class="mf">0.004191875457763672</span> <span class="n">seconds</span>
<span class="n">length</span> <span class="n">of</span> <span class="n">volumes</span> <span class="n">array</span> <span class="n">is</span> <span class="mi">1</span><span class="p">,</span><span class="mo">000</span><span class="p">,</span><span class="mo">000</span>

</code></pre></div></div>
<p>Wow! It just did a million calculations in 0.004 seconds. That was pretty quick! And the resulting array really does have a million entries!</p>

<p>The fact that Numpy arrays have a fixed data type, rather than being able to contain mixed types of objects like Python lists, is one of the reasons it can perform calculations on an entire array virtually simultaneously.  Also, much of the mathematical calculations are done in optimised C code under the hood, and various other languages, with some parts even written in Assembly language.  There is a handy Python API within the Numpy package that allows it to be seamlessly accessed from Python code.</p>

<hr />
<h4 id="random-dad-joke-alert">random dad joke alert</h4>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Q. What kind of music do planets like to listen to? </span>

<span class="c1"># A. Nep-tunes!</span>
</code></pre></div></div>

<p>I hope you’ve enjoyed this little exploration into Planets, Python and Numpy.  Rest assured we will be exploring Numpy functionality further in later posts.</p>


                    

                </div>
                
                <div class="post-navigation">
                    
                    <a href="/2023/10/14/Finding-Prime-Numbers-With-Python.html" class="prev">
                        <div class="post-nav-arrow"><i class="ion ion-ios-arrow-round-back"></i> Previous </div>
                    </a>
                    
                    
                    <a href="/2023/10/23/Image-Manipulation-With-Numpy.html" class="next">
                        <div class="post-nav-arrow">Next <i class="ion ion-ios-arrow-round-forward"></i></div>
                    </a>
                    
                </div>
                
            </div>
        </article> <!-- /.post -->
    </div>
</div>
    <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col col-12">
                <div class="footer-top">
                    <h2 class="logo-title">
                        <a href="/" class="logo-text">Helen Abell</a>
                    </h2>
                    <div class="top"><i class="ion ion-ios-arrow-up"></i></div>
                </div>
                <div class="footer-bottom">
                    <div class="copyright">
                        <p>&copy; 2023 Helen Abell Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a></p>
                    </div>
                    <div class="footer-social">
                        <ul class="list-reset">
                            <li><a href="https://github.com/h3l3nabell/"><i class="ion ion-logo-github"></i> Github</a></li>
                            <li><a href="https://www.linkedin.com/in/helen-abell/"><i class="ion ion-logo-linkedin"></i> Linkedln</a></li>
                            <li><a href="/feed.xml"><i class="ion ion-logo-rss"></i> Feed</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer> <!-- /.footer -->
    <!-- js here -->
<script src="/assets/js/jquery-3.3.1.min.js"></script>
<script src="/assets/js/jquery.waitforimages.min.js"></script>
<script src="/assets/js/jquery.fitvids.js"></script>
<script src="/assets/js/common.js"></script>
</body>

</html>